# Указываем базовый образ с поддержкой Go
FROM golang:1.23-alpine

# Устанавливаем рабочую директорию в контейнере
WORKDIR /app

# Копируем файлы go.mod и go.sum и загружаем зависимости
COPY go.mod go.sum ./
RUN go mod download

# Копируем все файлы проекта в контейнер
COPY . .

# Сборка приложения
RUN go build -o bot ./cmd/bot/main.go

# Указываем порт, который будет прослушиваться приложением
EXPOSE 28080

# Команда запуска приложения
CMD ["./bot"]
